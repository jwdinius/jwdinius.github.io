<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Building an eBike | Joe Dinius, Ph.D.</title> <meta name="author" content="Joe Dinius, Ph.D."> <meta name="description" content="a description of my experience building an electric bicycle"> <meta name="keywords" content="robotics, autonomy, math, optimization, controltheory, planning, computervision"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?53ca2be8c4ec0d533ef79017d1a2d734"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://jwdinius.github.io/blog/2018/ebike_build/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Joe </span>Dinius, Ph.D.</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">git</a> </li> <li class="nav-item "> <a class="nav-link" href="/learning/">learning</a> </li> <li class="nav-item "> <a class="nav-link" href="/assets/pdf/resumeDiniusTargeted.pdf">resume</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Building an eBike</h1> <p class="post-meta">January 21, 2018</p> <p class="post-tags"> <a href="/blog/2018"> <i class="fa-solid fa-calendar fa-sm"></i> 2018 </a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h3 id="summary">Summary</h3> <ul> <li>I had wanted an electric bicycle for awhile, but fully-integrated units that I found were really pricey.</li> <li>Conversion kits seemed like a decent option, but I was worried that it would be too much work. It turned out that there are kits out there that can be installed with minimal effort. A word of caution: don’t expect great documentation :)</li> <li>I was able to, without even the bicycle to convert, build a fully-functional electric bicycle for a little over $1,000.</li> </ul> <h3 id="introduction">Introduction</h3> <p>The lease on my truck is concluding soon and I’ve decided I would like to try and go without a personal vehicle for a time. With the new move to Oak Park, CA, I am only a few miles from work and could easily ride a bike. Well, at least I could have before my fall a few years back.</p> <p>I can still ride, but with more difficulty than I’d prefer. It’s just not as much fun as I’d like it to be; my right foot requires constant readjustment and focus to push against the pedal. These difficulties got me thinking about some sort of electric concept. But, it turns out, manufactured electric bicycles from brands that I recognize and trust can run upwards of $14,000! That’s way outside of my price range. This got me thinking about alternatives, such as conversion kits. The timing was pretty perfect, actually. I was thinking pretty seriously about conversion kits when I saw a work colleague with an electric bicycle he had built. His bicycle was a Specialized mountain bike, front suspension only, built using a Bionx kit. Despite the fact that it was a conversion, it looked really simple and clean. It didn’t require any machining or drilling for the mounts; it seemed to just slap on the existing bicycle with minimal effort. My interest was piqued, so I decided to do some research.</p> <p>Well, as it turns out, Bionx kits like <a href="https://www.amazon.com/BionX-Electric-Assist-V-Brake-compatible/dp/B06XS27R2Q/ref=sr_1_3?ie=UTF8&amp;qid=1516549449&amp;sr=8-3&amp;keywords=bionx+electric+bike+kit" rel="external nofollow noopener" target="_blank">this one</a> are expensive. To be honest, my interest started to wain. I needed to evaluate what my pain-point was for this project, dollar-wise. It seemed to me that $1,000 was a nice round number, with a pad of +/-$100 for unexpected expenses that always pop up. I decided I was comfortable with this investment for a project that I deemed part transportational concern and part hobbyist amusement.</p> <p>I should mention here that, at this point in time, I didn’t even have a bike to build from. I had just recently gotten rid of both my road and mountain bikes for reasons mentioned previously, i.e. it was no longer enjoyable for me to ride. So, when I went looking for a conversion kit, I didn’t have to discriminate for what kind of bike it was for; if I really liked a kit that was only available in 700C, I could find a 700C wheelset bicycle on Craig’s List. After some basic Google searches, I struck <a href="https://dillengerelectricbikes.com/electric-bike-kits/best-sellers/street-legal-electric-bike-kit-samsung-power-13ah-by-dillenger.html" rel="external nofollow noopener" target="_blank">proverbial gold</a>. This kit by Dillenger was almost 40% off, had a roughly 60 mile range per charge, and had everything needed in the box. With the $630 price tag, I figured I had enough budget pad to continue with the project, so I ordered it.</p> <p>Now, while I waited for the kit to ship, I started trawling Craig’s List for the perfect bike. Or, at least the most perfect bike that Craig’s List could offer. I found this great late-2000’s Trek 1000:</p> <p align="center"> <img src="/assets/img/ebike/bike_before.jpg"> </p> <p>It was the right size, had been well-cared for, and was mostly stock. It was also single-speed. From what I had read, this was key. With electric bikes that have front wheel motor units, i.e. not mid-drive, no additional gearing is required. To eliminate maintenance concerns and overall complexity, I decided that I preferred a single-speed. The guy was asking $220, which was overpriced, we bartered and settled on $180. I still felt this was a little overpriced, but the bike was in great condition, had been recently setup professionally, and was the correct size. I figure that I effectively paid $120, when accounting for the cost I would have incurred if I had to take the bike to a shop to get a tune-up.</p> <p>Around one week went by and I noticed that my PayPal account had been charged by Dillenger, but I had received no shipping notice. I was starting to get concerned, so I emailed the customer service center and, before I got a reply, the kit arrived at my front door. Awesome! I was now ready to start the build.</p> <h3 id="the-build">The Build</h3> <h4 id="required-tools">Required Tools</h4> <p align="center"> <img src="/assets/img/ebike/tools.jpg"> </p> <p>The tools I ended up needing were:</p> <ul> <li>Snips</li> <li>Blade</li> <li>Pliers, needle-nose and adjustable-hinged</li> <li>File with multiple attachment heads</li> <li>Crank Bros. bike multi-tool</li> <li>Tire Lever tool</li> <li>Wrenches, crescent and torque</li> <li>Zip-ties, not-pictured</li> </ul> <p>I used different zip-ties than the ones provided; I thought that those included were too brittle.</p> <h4 id="step-0-preliminaries">Step 0: Preliminaries</h4> <p align="center"> <img src="/assets/img/ebike/box_contents.jpg"> </p> <p>I opened the conversion kit’s box and was a bit disheartened to find no instructions. Seriously?! Not only were there no instructions, there wasn’t even a piece of paper with a <em>URL</em> to the instructions! This, I think, is terrible form. Dillenger included a packing slip with all contents the box should contain and safety documents for the battery and charger. That was it. After some searching on the Dillenger website, I found the appropriate documentation for both the <a href="https://880b28d3d003e6b1c176-ee9159906b823979ce618332e73bec87.ssl.cf4.rackcdn.com/electric-bike-kits/dillenger_samsung_street_manual_2016.pdf" rel="external nofollow noopener" target="_blank">kit</a> and <a href="https://880b28d3d003e6b1c176-ee9159906b823979ce618332e73bec87.ssl.cf4.rackcdn.com/other/C965%20V5.0.pdf" rel="external nofollow noopener" target="_blank">display</a>. I followed the instructions only cursorily, as I found them to be poorly phrased, confusing, and full of grammatical errors. I don’t want to derail the whole conversation, but proper documentation of a manufactured product that requires end-user installation shouldn’t be too much to ask for and yet it oftentimes is. To be clear: proper documentation, to me, means</p> <ul> <li>A hard copy of the installation instructions is included with the shipped product</li> <li>A clear definition of the required tools and other prerequisites for the installation</li> <li>Clearly worded, <em>concise</em> steps to complete installation.</li> </ul> <p>Dillenger has dropped the ball on <em>all</em> of the bullet points; the copy that I had to go out and find was poorly worded and spent too much time on diversions about the tech in the system. I get it, it’s cool tech, but enough about the Hall Effect sensor already…</p> <p><em>My</em> first steps were to strip the handlebars, remove the front wheel, and prepare it for the actual install.</p> <p align="center"> <img src="/assets/img/ebike/strip.jpg"> </p> <p>After years of repairing flats on trails, I’ve learned that there is no tire better than <a href="https://www.amazon.com/Continental-GatorSkin-DuraSkin-2-Count-Folding/dp/B01JN4YE96/ref=sr_1_1?ie=UTF8&amp;qid=1516552649&amp;sr=8-1&amp;keywords=gatorskins" rel="external nofollow noopener" target="_blank">GatorSkins</a>. This is where I incurred the first additional expense: $167 for rim tape, tubes, tires, and wheel levers. Ouch, this was almost what I spent on the <em>whole bike</em>. Oh well, after installing GatorSkins on my Scott Speedster, I went from about a flat per week to no flats ever again. I’d say that my previous experience justified the additional expense.</p> <p>The rear wheel was properly setup already, so I simply removed the old tube and tire and replaced them. After that, I inflated the tire to ~60 psi. This, I’ve found, is an adequate test pressure for new tires; it tests the install under a high enough pressure to ensure proper install.</p> <p>After redoing and remounting the rear wheel, it was time to begin the actual install.</p> <h4 id="step-1-front-wheel-setup">Step 1: Front Wheel Setup</h4> <p>I added rim tape to the wheel. The instructions claimed this was recommended but not required. I would highly suggest applying rim tape to a new wheel; this reduces chance of metal from a wheel spoke puncturing your tube. After the rim tape, I repeated the same procedure I had just gone through on the rear wheel.</p> <p>Next, it was time to mount the front wheel. This is where the strength of uniformity among bicycle manufacturer specifications became apparent.</p> <p align="center"> <img src="/assets/img/ebike/front_dropout.jpg"> </p> <p align="center"> <em>Front dropouts: 10mm clearance between "hooks" on each dropout and 100mm clearance between dropouts is desirable</em> </p> <p>The 700C conversion kit claims that it can work on any bicycle that has about 10mm of spacing in the front dropouts, with about 100mm in between. This is common among most, if not all, bicycle manufacturers. I still think that it is so cool that a bicycle made over 20 years ago, as well as bicycles made today, can be converted into electric bicycles using a kit.</p> <p>The wheel didn’t drop in immediately. Despite the commonality in specifications, there is still the matter of variation between manufacturer’s capability in meeting those specifications. This wasn’t a big deal. The instructions did say that the front dropouts may require filing in order fit the front wheel. I didn’t have a file, so I incurred another $18 in expenses getting one.</p> <p>The filing was manually intensive, but after about a half-hour, the wheel dropped right in.</p> <h4 id="step-2--mounting-the-cradle">Step 2: Mounting the Cradle</h4> <p align="center"> <img src="/assets/img/ebike/cradle.jpg"> </p> <p>The battery assembly shipped with the battery already mounted on the cradle. I had to spend some time just figuring out how to separate the battery from the cradle. Again, I may be overstating by this point, proper documentation could have been very helpful here.</p> <p>The cradle mounted easily to the water bottle tapouts.</p> <h4 id="step-3--mounting-the-display-and-peripherals">Step 3: Mounting the Display and Peripherals</h4> <p>By this point, all of the real labor was over. What remained was just finding appropriate mounting locations for the display, the pedal assist controller, and the all-important throttle. This only took a matter of minutes, most of which was spent fussing over exact locations. This is where the one-size-fits-all mentality was a bit frustrating to me; I couldn’t get the exact fit that I wanted. Oh well, it still looked pretty good.</p> <p align="center"> <img src="/assets/img/ebike/handlebar_setup.jpg"> </p> <p>Now that everything was mounted on the handlebars, I reinstalled the brakes and added the e-brake sensors. These are so cool; just a simple magnetic sensor mounts on the brake harness and a magnet attached to the lever “tells” the controller when the brake is engaged, which disengages the throttle. Simple physics, but oh so awesome!</p> <p align="center"> <img src="/assets/img/ebike/ebrake_sensor.jpg"> </p> <h4 id="step-4--pedal-assist-module-and-sensor">Step 4: Pedal Assist Module and Sensor</h4> <p align="center"> <img src="/assets/img/ebike/pedal_assist.jpg"> </p> <p>This part required snipping and filing of the plastic ring that goes around the base of the left pedal crankshaft. This was more time-intensive than I would have thought. It took me about 15 minutes of filing, test, more filing to get the fit right. After wrapping the ring with the provided metallic hoop, I mounted the sensor to the frame with a zip-tie.</p> <p>Quick note: the design of this component is actually quite brilliant. Rather than having to take the crank assembly apart to put the ring on, I was able to just snap the part on.</p> <h4 id="step-5--mounting-the-battery-and-wiring">Step 5: Mounting the Battery and Wiring</h4> <p align="center"> <img src="/assets/img/ebike/wiring.jpg"> </p> <p>The battery has a locking mechanism that prevents theft. This is a pretty nice feature. The power switch does not have a secure on/off mechanism, so some unscrupulous individual could drain your battery while you are away from your bike.</p> <p>Tidying up the wiring is highly personal. I chose a balance between aesthetic appeal and concern for safety. Basically, I wanted a configuration that</p> <ul> <li>left enough slack for full range of motion of the handlebars without excessive strain on mounts</li> <li>was visually appealing</li> </ul> <h4 id="step-6-adjustment">Step 6: Adjustment</h4> <p>As with any major modifications to a bicycle, the final step is to readjust your brake alignment and tension, pump the wheels to recommended pressure, ensure the wheels spin freely, etc… Gratefully, this was all I had to do before going on a test ride.</p> <p>The post-op on the test ride made something very clear: the old seat had to go. Replacing it added another $60 to the total. Oh well. It’s totally worth it to not dread sitting on the bike each and every time that I ride it.</p> <h3 id="test-ride">Test Ride</h3> <p>Check <a href="https://www.youtube.com/watch?v=jMP4PeffacQ" rel="external nofollow noopener" target="_blank">this</a> out!</p> <p>I’ve had a chance to put about a dozen or so miles on the bike now and it has, thus far, exceeded my expectations. The bike grinds up most hills I have encountered, which is key, because where we just moved, there are a bunch of hills. Even the worst of them can be taken with only minor pedal assistance on my part.</p> <h3 id="total-cost">Total Cost</h3> <p>All-in, building an electric bike from a conversion kit cost, including the bike off Craig’s List, $1,077. This was within the $1,000 +/- $100 budget that I set.</p> </div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Joe Dinius, Ph.D.. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>